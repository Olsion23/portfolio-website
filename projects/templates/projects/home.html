{% extends 'projects/base.html' %} {% load static %} {% block content %}
<!--About Me-->
<!-- Hero Section -->
<section class="text-center py-5 bg-light">
  <img
    src="{% static 'images/olsion1.jpg' %}"
    class="rounded-circle mb-3 shadow-lg hero-img"
    width="150"
    height="150"
    alt="Olsion Bejleri"
  />
  <h1 class="display-5 fw-bold mb-2">Olsion Bejleri</h1>
  <p class="lead text-secondary mb-3">
    Software Developer | Python | Java | Django | Fullstack Developer
  </p>
  <p class="text-muted mx-auto" style="max-width: 600px">
    I'm a passionate software developer focusing on creating modern web
    applications using Python, Django, and React. I build clean and scalable
    solutions.
  </p>
</section>

<hr />

<!-- Skills Section -->
<section class="py-5">
  <h2 class="mb-4 text-center">My Skills</h2>
    <div class="row">
        {% for skill in skills %}
        <div class="col-md-6 mb-3">
            <div class="d-flex justify-content-between">
                <strong>{{ skill.name }}</strong>
                <span>{{ skill.level }}%</span>
            </div>
            <div class="progress" style="height: 25px; background-color: #e9ecef; border-radius: 12px; overflow: hidden; box-shadow: inset 0 2px 5px rgba(0,0,0,0.2);">
  <div
    class="progress-bar"
    role="progressbar"
    style="width: 0%; transition: width 1s ease-in-out;
           background: linear-gradient(to bottom, #39ff14 0%, #00ff00 100%);
           box-shadow: inset 0 -3px 10px rgba(57,255,20,0.6), 0 0 10px rgba(57,255,20,0.7);
           border-radius: 12px;"
    aria-valuenow="{{ skill.level }}"
    aria-valuemin="0"
    aria-valuemax="100"
    data-level="{{ skill.level }}"
  >
    <span style="position: relative; z-index: 1; font-weight: bold; color: white;">
      {{ skill.level }}%
    </span>
  </div>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    const bars = document.querySelectorAll('.progress-bar');
    bars.forEach(bar => {
      const level = bar.getAttribute('data-level');
      bar.style.width = level + '%';
    });
  });
</script>
        </div>
        {% empty %}
        <p>No skills added yet.</p>
        {% endfor %}
    </div>
</div>
</section>

<hr />

<!-- Projects Section -->
<section class="py-5 bg-light">
  <h2 class="text-center mb-4">Projects</h2>
  <div class="row justify-content-center">
    {% for project in projects %}
    <div class="col-md-4 mb-4">
      <div class="card project-card shadow-sm h-100 overflow-hidden">
        {% if project.image %}
        <img
          src="{{project.image.url}}"
          class="card-img-top project-img"
          alt="{{ project.title }}"
        />
        {% endif %}
        <div class="card-body d-flex flex-column">
          <h5 class="fw-bold">{{project.title}}</h5>
          <p class="text-muted mb-3">
            {{project.description | truncatechars:120}}
          </p>
          <div class="mt-auto">
            {% if project.link %}
            <a
              href="{{project.link}}"
              target="_blank"
              class="btn btn-primary btn-sm mb-1 me-1"
              >View</a
            >
            {% endif %} {% if user.is_authenticated %}
            <a
              href="{% url 'project_edit' project.pk %}"
              class="btn btn-warning btn-sm mb-1 me-1"
              >Edit</a
            >
            <a
              href="{% url 'project_delete' project.pk %}"
              class="btn btn-danger btn-sm mb-1"
              >Delete</a
            >
            {% endif %}
          </div>
        </div>
      </div>
    </div>
    {% empty %}
    <p class="text-center text-muted">No projects yet.</p>
    {% endfor %}
  </div>
</section>

<hr />

<!-- Contact Section -->
<section class="py-5">
  <h2 class="text-center mb-4">Contact Me</h2>
  <div class="row justify-content-center">
    <div class="col-md-6">
      <form
        method="POST"
        action="{% url 'contact' %}"
        class="contact-form p-4 shadow-sm rounded"
      >
        {% csrf_token %}
        <div class="mb-3">
          <input
            type="text"
            name="name"
            class="form-control form-control-lg"
            placeholder="Your Name"
            required
          />
        </div>
        <div class="mb-3">
          <input
            type="email"
            name="email"
            class="form-control form-control-lg"
            placeholder="Your Email"
            required
          />
        </div>
        <div class="mb-3">
          <textarea
            name="message"
            class="form-control form-control-lg"
            rows="4"
            placeholder="Your Message"
            required
          ></textarea>
        </div>
        <button type="submit" class="btn btn-success btn-lg w-100">
          Send Message
        </button>
      </form>
    </div>
  </div>
</section>
{% endblock %}
